/* Intro Scene Styles - CSS-Heavy Approach with Lenis-Style Timing */

/* Lenis-style timing variables */
:root {
  --entry-delay: 1000ms;
  --letter-stagger: 125ms;
  --hold-time: 1500ms;
  --column-duration: 600ms; /* Duration for each column to slide up */
  --column-stagger: 300ms; /* When column reaches half, next one starts (600ms / 2) */
  --expo-easing: cubic-bezier(0.16, 1, 0.3, 1);
  --transition-duration: 800ms;
}

/* Main wrapper for intro scene */
.wrapper {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10; /* Above main content (z-0) but not too high */
  overflow: hidden;
  
  &:not(.exit) {
    background: url('/intro_bg.png') center center / cover no-repeat;
  }
  
  &.exit {
    /* No background - let columns and letters animate independently */
    background: none;
    pointer-events: none;
  }
}

/* Column overlays container */
.columnOverlays {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  z-index: 1;
  gap: 0;
  margin: 0;
  padding: 0;
}

/* Individual column */
.column {
  flex: 1;
  height: 100%;
  background-image: url('/intro_bg.png');
  background-size: 500% 100%;
  background-position: calc(var(--column-index) * 25%) center;
  background-repeat: no-repeat;
  transform: translate3d(0, 0, 0);
  will-change: transform;
  animation: slideUpColumn var(--column-duration) var(--expo-easing) forwards;
  animation-delay: calc(var(--column-index) * var(--column-stagger));
  margin: 0;
  padding: 0;
}

@keyframes slideUpColumn {
  from {
    transform: translate3d(0, 0, 0);
  }
  to {
    transform: translate3d(0, -100%, 0);
  }
}

/* Logo group container for letters */
.logoGroup {
  transform: translate3d(0, 100%, 0);
  opacity: 0;
  will-change: transform, opacity;
  transition: 
    transform var(--transition-duration) var(--expo-easing),
    opacity var(--transition-duration) var(--expo-easing);
  transition-delay: calc(var(--entry-delay) + (var(--index) * var(--letter-stagger)));
  
  &.show {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
}

/* Individual letter styles */
.letter {
  display: inline-block;
  font-size: 8rem;
  font-weight: 900;
  color: white;
  font-family: 'Arial', sans-serif;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  user-select: none;
  
  /* SVG specific styles */
  svg {
    width: 8rem;
    height: 8rem;
    fill: white;
    stroke: none;
  }
}

/* Letter container for horizontal layout */
.lettersContainer {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  position: relative;
  z-index: 2; /* Above column overlays so letters are visible */
}

/* Make each letter move up progressively when exit starts */
.wrapper.exit .logoGroup {
  animation: slideLetterUp var(--column-duration) var(--expo-easing) forwards;
  /* Stagger based on letter index: C=0, I=1, S=2 */
  animation-delay: calc(var(--index) * var(--column-stagger) + var(--column-stagger));
}

@keyframes slideLetterUp {
  from {
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
  to {
    transform: translate3d(0, -100vh, 0);
    opacity: 1;
  }
}

/* Responsive sizing */
@media (max-width: 768px) {
  .letter {
    font-size: 6rem;
    
    svg {
      width: 6rem;
      height: 6rem;
    }
  }
}

@media (max-width: 480px) {
  .letter {
    font-size: 4rem;
    
    svg {
      width: 4rem;
      height: 4rem;
    }
  }
}

/* Accessibility - Respect reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  .logoGroup {
    transition: none;
    transform: translate3d(0, 0, 0);
    opacity: 1;
  }
  
  .column {
    animation: none;
    transform: translate3d(0, -100%, 0);
  }
}